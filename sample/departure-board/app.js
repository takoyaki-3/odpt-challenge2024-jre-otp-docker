
// OpenTripPlanner API (http://localhost:8080/otp/routers/default/index/stops/1:1118/stoptimes) から取得した国立駅の発車データ（2024-10-18 23:07時点）
const departureData = [{"pattern":{"id":"1:11:0:14","desc":"中央線快速 to 立川 (1:1119) from 東京 (1:1101) like trip 1:1121185T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":33360,"scheduledDeparture":33360,"realtimeArrival":33360,"realtimeDeparture":33360,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120895T","headsign":"立川"},{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":27540,"scheduledDeparture":27540,"realtimeArrival":27540,"realtimeDeparture":27540,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120691T","headsign":"立川"}]},{"pattern":{"id":"1:11:1:26","desc":"中央線快速 to 三鷹 (1:1112) from 立川 (1:1119)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":1,"stopCount":8,"scheduledArrival":83760,"scheduledDeparture":83760,"realtimeArrival":83760,"realtimeDeparture":83760,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729177200,"tripId":"1:1112252T","blockId":"2812252T","headsign":"三鷹"}]},{"pattern":{"id":"1:11:0:13","desc":"中央線快速 to 八王子 (1:1122) from 東京 (1:1101) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":22,"scheduledArrival":37800,"scheduledDeparture":37800,"realtimeArrival":37800,"realtimeDeparture":37800,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120933T","headsign":"八王子"},{"stopId":"1:1118","stopIndex":17,"stopCount":22,"scheduledArrival":36300,"scheduledDeparture":36300,"realtimeArrival":36300,"realtimeDeparture":36300,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120965T","headsign":"八王子"}]},{"pattern":{"id":"1:11:1:23","desc":"中央線快速 to 武蔵小金井 (1:1115) from 高尾 (1:1124)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":10,"scheduledArrival":88560,"scheduledDeparture":88560,"realtimeArrival":88560,"realtimeDeparture":88560,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729177200,"tripId":"1:1112426T","headsign":"武蔵小金井"}]},{"pattern":{"id":"1:11:0:11","desc":"中央線快速 to 立川 (1:1119) from 東京 (1:1101) like trip 1:1101871T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":88620,"scheduledDeparture":88620,"realtimeArrival":88620,"realtimeDeparture":88620,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729177200,"tripId":"1:1102389T","headsign":"立川"}]},{"pattern":{"id":"1:11:1:21","desc":"中央線快速 to 武蔵小金井 (1:1115) from 立川 (1:1119)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":1,"stopCount":5,"scheduledArrival":83220,"scheduledDeparture":83220,"realtimeArrival":83220,"realtimeDeparture":83220,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1112242T","blockId":"2812242T","headsign":"武蔵小金井"}]},{"pattern":{"id":"1:11:0:10","desc":"中央線快速 to 豊田 (1:1121) from 東京 (1:1101) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":21,"scheduledArrival":84960,"scheduledDeparture":84960,"realtimeArrival":85200,"realtimeDeparture":85200,"arrivalDelay":240,"departureDelay":240,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102233T","headsign":"豊田"},{"stopId":"1:1118","stopIndex":17,"stopCount":21,"scheduledArrival":84600,"scheduledDeparture":84600,"realtimeArrival":84720,"realtimeDeparture":84720,"arrivalDelay":120,"departureDelay":120,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102263T","headsign":"豊田"}]},{"pattern":{"id":"1:11:1:20","desc":"中央線快速 to 三鷹 (1:1112) from 高尾 (1:1124)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":13,"scheduledArrival":87300,"scheduledDeparture":87300,"realtimeArrival":87300,"realtimeDeparture":87300,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729177200,"tripId":"1:1112364T","headsign":"三鷹"},{"stopId":"1:1118","stopIndex":6,"stopCount":13,"scheduledArrival":86040,"scheduledDeparture":86040,"realtimeArrival":86040,"realtimeDeparture":86040,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729177200,"tripId":"1:1112382T","headsign":"三鷹"}]},{"pattern":{"id":"1:11:0:25","desc":"中央線快速 to 高尾 (1:1124) from 武蔵小金井 (1:1115) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":3,"stopCount":10,"scheduledArrival":19140,"scheduledDeparture":19140,"realtimeArrival":19140,"realtimeDeparture":19140,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120529T","headsign":"大月"}]},{"pattern":{"id":"1:11:0:24","desc":"中央線快速 to 高尾 (1:1124) from 三鷹 (1:1112)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":13,"scheduledArrival":18720,"scheduledDeparture":18720,"realtimeArrival":18720,"realtimeDeparture":18720,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120453T","headsign":"高尾"},{"stopId":"1:1118","stopIndex":6,"stopCount":13,"scheduledArrival":17640,"scheduledDeparture":17640,"realtimeArrival":17640,"realtimeDeparture":17640,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120467T","headsign":"高尾"}]},{"pattern":{"id":"1:11:0:23","desc":"中央線快速 to 立川 (1:1119) from 武蔵小金井 (1:1115)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":3,"stopCount":5,"scheduledArrival":27120,"scheduledDeparture":27120,"realtimeArrival":27120,"realtimeDeparture":27120,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120741T","blockId":"1120741T","headsign":"青梅"}]},{"pattern":{"id":"1:11:0:26","desc":"中央線快速 to 高尾 (1:1124) from 武蔵小金井 (1:1115) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":3,"stopCount":10,"scheduledArrival":20100,"scheduledDeparture":20100,"realtimeArrival":20100,"realtimeDeparture":20100,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120537T","headsign":"高尾"},{"stopId":"1:1118","stopIndex":3,"stopCount":10,"scheduledArrival":16620,"scheduledDeparture":16620,"realtimeArrival":16620,"realtimeDeparture":16620,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120469T","headsign":"高尾"}]},{"pattern":{"id":"1:11:1:03","desc":"中央線快速 to 東京 (1:1101) from 高尾 (1:1124) like trip 1:1111590T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":84240,"scheduledDeparture":84240,"realtimeArrival":84240,"realtimeDeparture":84240,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1112330T","headsign":"東京"},{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":83520,"scheduledDeparture":83520,"realtimeArrival":83520,"realtimeDeparture":83520,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1112234T","headsign":"東京"}]},{"pattern":{"id":"1:11:1:04","desc":"中央線快速 to 東京 (1:1101) from 高尾 (1:1124) like trip 1:1131992T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":19080,"scheduledDeparture":19080,"realtimeArrival":19080,"realtimeDeparture":19080,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130416T","headsign":"東京"},{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":17280,"scheduledDeparture":17280,"realtimeArrival":17280,"realtimeDeparture":17280,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130424T","headsign":"東京"}]},{"pattern":{"id":"1:11:1:09","desc":"中央線快速 to 東京 (1:1101) from 豊田 (1:1121) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":3,"stopCount":21,"scheduledArrival":18000,"scheduledDeparture":18000,"realtimeArrival":18000,"realtimeDeparture":18000,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130404H","headsign":"東京"},{"stopId":"1:1118","stopIndex":3,"stopCount":21,"scheduledArrival":16680,"scheduledDeparture":16680,"realtimeArrival":16680,"realtimeDeparture":16680,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130434T","headsign":"東京"}]},{"pattern":{"id":"1:11:1:05","desc":"中央線快速 to 東京 (1:1101) from 立川 (1:1119) like trip 1:1130790T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":1,"stopCount":19,"scheduledArrival":34500,"scheduledDeparture":34500,"realtimeArrival":34500,"realtimeDeparture":34500,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130994T","headsign":"東京"},{"stopId":"1:1118","stopIndex":1,"stopCount":19,"scheduledArrival":28500,"scheduledDeparture":28500,"realtimeArrival":28500,"realtimeDeparture":28500,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130790T","headsign":"東京"}]},{"pattern":{"id":"1:11:1:06","desc":"中央線快速 to 東京 (1:1101) from 立川 (1:1119) like trip 1:1131856T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":1,"stopCount":19,"scheduledArrival":21600,"scheduledDeparture":21600,"realtimeArrival":21600,"realtimeDeparture":21600,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130590T","blockId":"2830590T","headsign":"東京"},{"stopId":"1:1118","stopIndex":1,"stopCount":19,"scheduledArrival":18420,"scheduledDeparture":18420,"realtimeArrival":18420,"realtimeDeparture":18420,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130494T","blockId":"2830494T","headsign":"東京"}]},{"pattern":{"id":"1:11:0:03","desc":"中央線快速 to 高尾 (1:1124) from 東京 (1:1101) like trip 1:1120951T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":20700,"scheduledDeparture":20700,"realtimeArrival":20700,"realtimeDeparture":20700,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120481T","headsign":"高尾"},{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":19500,"scheduledDeparture":19500,"realtimeArrival":19500,"realtimeDeparture":19500,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120433T","headsign":"高尾"}]},{"pattern":{"id":"1:11:1:15","desc":"中央線快速 to 東京 (1:1101) from 八王子 (1:1122) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":4,"stopCount":22,"scheduledArrival":41340,"scheduledDeparture":41340,"realtimeArrival":41340,"realtimeDeparture":41340,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1131132T","headsign":"東京"},{"stopId":"1:1118","stopIndex":4,"stopCount":22,"scheduledArrival":38760,"scheduledDeparture":38760,"realtimeArrival":38760,"realtimeDeparture":38760,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1131064T","headsign":"東京"}]},{"pattern":{"id":"1:11:0:01","desc":"中央線快速 to 高尾 (1:1124) from 東京 (1:1101) like trip 1:1101619H","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":84420,"scheduledDeparture":84420,"realtimeArrival":84420,"realtimeDeparture":84420,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102281T","headsign":"高尾"},{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":83520,"scheduledDeparture":83520,"realtimeArrival":83880,"realtimeDeparture":83880,"arrivalDelay":360,"departureDelay":360,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102287T","headsign":"高尾"}]},{"pattern":{"id":"1:11:1:10","desc":"中央線快速 to 東京 (1:1101) from 高尾 (1:1124) like trip 1:1130674T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":30120,"scheduledDeparture":30120,"realtimeArrival":30120,"realtimeDeparture":30120,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130764T","headsign":"東京"},{"stopId":"1:1118","stopIndex":6,"stopCount":24,"scheduledArrival":25020,"scheduledDeparture":25020,"realtimeArrival":25020,"realtimeDeparture":25020,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130674T","headsign":"東京"}]},{"pattern":{"id":"1:11:0:08","desc":"中央線快速 to 立川 (1:1119) from 東京 (1:1101) like trip 1:1101875T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":83940,"scheduledDeparture":83940,"realtimeArrival":84000,"realtimeDeparture":84000,"arrivalDelay":60,"departureDelay":60,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102249T","blockId":"1102249T","headsign":"青梅"},{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":83220,"scheduledDeparture":83220,"realtimeArrival":83280,"realtimeDeparture":83280,"arrivalDelay":60,"departureDelay":60,"timepoint":true,"realtime":true,"realtimeState":"UPDATED","serviceDay":1729177200,"tripId":"1:1102205H","blockId":"1102205H","headsign":"青梅"}]},{"pattern":{"id":"1:11:0:07","desc":"中央線快速 to 立川 (1:1119) from 東京 (1:1101) like trip 1:1120817T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":29820,"scheduledDeparture":29820,"realtimeArrival":29820,"realtimeDeparture":29820,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120779T","blockId":"1120779T","headsign":"青梅"},{"stopId":"1:1118","stopIndex":17,"stopCount":19,"scheduledArrival":26700,"scheduledDeparture":26700,"realtimeArrival":26700,"realtimeDeparture":26700,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120667T","blockId":"1120667T","headsign":"青梅"}]},{"pattern":{"id":"1:11:0:06","desc":"中央線快速 to 高尾 (1:1124) from 東京 (1:1101) like trip 1:1122371T","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":58620,"scheduledDeparture":58620,"realtimeArrival":58620,"realtimeDeparture":58620,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1121527T","headsign":"大月"},{"stopId":"1:1118","stopIndex":17,"stopCount":24,"scheduledArrival":34980,"scheduledDeparture":34980,"realtimeArrival":34980,"realtimeDeparture":34980,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120827T","headsign":"大月"}]},{"pattern":{"id":"1:11:1:16","desc":"中央線快速 to 新宿 (1:1105) from 豊田 (1:1121)","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":3,"stopCount":17,"scheduledArrival":25200,"scheduledDeparture":25200,"realtimeArrival":25200,"realtimeDeparture":25200,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1130620T","headsign":"新宿"}]},{"pattern":{"id":"1:11:0:05","desc":"中央線快速 to 豊田 (1:1121) from 東京 (1:1101) express","routeId":"1:11"},"times":[{"stopId":"1:1118","stopIndex":17,"stopCount":21,"scheduledArrival":29460,"scheduledDeparture":29460,"realtimeArrival":29460,"realtimeDeparture":29460,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120737T","headsign":"豊田"},{"stopId":"1:1118","stopIndex":17,"stopCount":21,"scheduledArrival":28440,"scheduledDeparture":28440,"realtimeArrival":28440,"realtimeDeparture":28440,"arrivalDelay":0,"departureDelay":0,"timepoint":true,"realtime":false,"realtimeState":"SCHEDULED","serviceDay":1729263600,"tripId":"1:1120753T","headsign":"豊田"}]}];

// 時刻フォーマット関数
function formatTime(seconds) {
  const hours = Math.floor(seconds / 3600) % 24;
  const minutes = Math.floor((seconds % 3600) / 60);
  return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
}

// 遅延時間フォーマット関数
function formatDelay(delaySeconds) {
  const delayMinutes = Math.floor(delaySeconds / 60);
  return delayMinutes > 0 ? `${delayMinutes} 分遅れ` : '遅れなし';
}

// 現在時刻（秒）を取得する関数
function getCurrentTimeInSeconds() {
  const now = new Date();
  return now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();
}

// 発車標にデータを追加
function populateDepartureBoard() {
  const tableBody = document.querySelector('#departure-board tbody');
  tableBody.innerHTML = '';

  const currentTime = getCurrentTimeInSeconds();

  // すべての列車の発車時刻をフラットにした配列に変換し、ソート
  const upcomingTrains = departureData.flatMap(item => item.times)
      .filter(time => time.scheduledDeparture > currentTime)  // 現在時刻以降の列車を対象
      .sort((a, b) => a.scheduledDeparture - b.scheduledDeparture)  // 発車時刻でソート
      .slice(0, 5);  // 直近5本を取得

  upcomingTrains.forEach(time => {
      const row = document.createElement('tr');

      // 発車時刻
      const departureTimeCell = document.createElement('td');
      departureTimeCell.textContent = formatTime(time.scheduledDeparture);
      row.appendChild(departureTimeCell);

      // 目的地
      const destinationCell = document.createElement('td');
      destinationCell.textContent = time.headsign;
      row.appendChild(destinationCell);

      // リアルタイム状態
      const realtimeStateCell = document.createElement('td');
      realtimeStateCell.textContent = time.realtimeState === 'UPDATED' ? 'リアルタイム' : 'スケジュール';
      realtimeStateCell.classList.add(time.realtime ? 'realtime-updated' : 'realtime-scheduled');
      row.appendChild(realtimeStateCell);

      // 遅延時間
      const delayCell = document.createElement('td');
      const delay = Math.max(time.arrivalDelay, time.departureDelay); // 遅延時間の最大値を使用
      delayCell.textContent = formatDelay(delay);
      row.appendChild(delayCell);

      tableBody.appendChild(row);
  });
}

window.onload = populateDepartureBoard;